q("no")
R


library("highs")

#
#
#
A <- rbind(c(0, 1), c(1, 2), c(3, 2))
s <- highs_solve(L = c(1.0, 1), lower = c(0, 1), upper = c(4, Inf), A = A,
                 lhs = c(-Inf, 5, 6), rhs = c(7, 15, Inf), control = list(mip_rel_gap = 0.1))
str(s)


#
#
#
library(highs)
library(Matrix)

model <- list(maximum = FALSE, L = c(216, 213, 207, 209, 214, 214, 210,
 211, 210, 204, 213, 212, 210, 211, 211, 215, 213, 215, 211, 209,
 211, 213, 208, 210, 209, 214, 213, 211, 211, 209, 210, 208, 208,
 209, 207, 211, 211, 213, 210, 205, 203, 208, 208, 207, 210, 209,
 205, 204, 203, 205, 203, 205, 208, 203, 203, 202, 201, 203, 203,
 205, 206, 204, 199, 200, 201, 200, 206, 207, 202, 201, 200, 196,
 195, 205, 205, 203, 198, 196, 193, 192, 190, 200, 199, 201, 199,
 196, 193, 191, 190, 193), A = new("dgCMatrix", i = c(0L, 1L,
 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L,
 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L,
 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L,
 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L,
 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L,
 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L,
 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L,
 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L,
 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L,
 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L,
 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L,
 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L,
 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L,
 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L,
 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L,
 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L,
 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L,
 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L,
 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L,
 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L,
 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L,
 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L,
 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L,
 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L,
 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L,
 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L,
 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L,
 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L, 0L, 1L, 2L, 3L, 4L
 ), p = c(0L, 5L, 10L, 15L, 20L, 25L, 30L, 35L, 40L, 45L, 50L,
 55L, 60L, 65L, 70L, 75L, 80L, 85L, 90L, 95L, 100L, 105L, 110L,
 115L, 120L, 125L, 130L, 135L, 140L, 145L, 150L, 155L, 160L, 165L,
 170L, 175L, 180L, 185L, 190L, 195L, 200L, 205L, 210L, 215L, 220L,
 225L, 230L, 235L, 240L, 245L, 250L, 255L, 260L, 265L, 270L, 275L,
 280L, 285L, 290L, 295L, 300L, 305L, 310L, 315L, 320L, 325L, 330L,
 335L, 340L, 345L, 350L, 355L, 360L, 365L, 370L, 375L, 380L, 385L,
 390L, 395L, 400L, 405L, 410L, 415L, 420L, 425L, 430L, 435L, 440L,
 445L, 450L), Dim = c(5L, 90L), Dimnames = list(NULL, NULL), x = c(0.7,
 0.3, 0.8, 0.2, 0.5, 0.7, 0.3, 0.8, 0.3, 0.4, 0.7, 0.3, 0.8, 0.3,
 0.4, 0.7, 0.4, 0.8, 0.4, 0.4, 0.7, 0.4, 0.7, 0.4, 0.4, 0.7, 0.4,
 0.7, 0.5, 0.5, 0.7, 0.4, 0.6, 0.5, 0.5, 0.7, 0.4, 0.5, 0.5, 0.6,
 0.7, 0.4, 0.5, 0.5, 0.6, 0.8, 0.4, 0.4, 0.5, 0.6, 0.8, 0.3, 0.8,
 0.2, 0.5, 0.7, 0.3, 0.8, 0.3, 0.5, 0.7, 0.3, 0.8, 0.3, 0.4, 0.7,
 0.3, 0.8, 0.4, 0.4, 0.7, 0.4, 0.7, 0.5, 0.5, 0.7, 0.4, 0.7, 0.5,
 0.5, 0.7, 0.4, 0.6, 0.6, 0.5, 0.8, 0.4, 0.6, 0.6, 0.5, 0.8, 0.4,
 0.5, 0.6, 0.6, 0.8, 0.3, 0.8, 0.2, 0.5, 0.8, 0.3, 0.8, 0.3, 0.5,
 0.8, 0.3, 0.8, 0.3, 0.5, 0.8, 0.3, 0.8, 0.4, 0.5, 0.8, 0.4, 0.8,
 0.5, 0.5, 0.8, 0.4, 0.7, 0.5, 0.5, 0.8, 0.4, 0.7, 0.6, 0.5, 0.8,
 0.4, 0.6, 0.6, 0.6, 0.8, 0.3, 0.5, 0.6, 0.6, 0.8, 0.3, 0.5, 0.6,
 0.6, 0.8, 0.3, 0.8, 0.2, 0.5, 0.8, 0.3, 0.8, 0.3, 0.5, 0.8, 0.3,
 0.8, 0.3, 0.5, 0.8, 0.3, 0.8, 0.4, 0.5, 0.8, 0.3, 0.8, 0.5, 0.5,
 0.8, 0.3, 0.7, 0.5, 0.5, 0.8, 0.3, 0.7, 0.6, 0.5, 0.8, 0.3, 0.6,
 0.6, 0.6, 0.8, 0.3, 0.6, 0.6, 0.6, 0.8, 0.3, 0.5, 0.6, 0.6, 0.9,
 0.3, 0.8, 0.2, 0.6, 0.9, 0.3, 0.8, 0.3, 0.5, 0.8, 0.3, 0.8, 0.3,
 0.5, 0.8, 0.3, 0.8, 0.4, 0.5, 0.8, 0.3, 0.8, 0.5, 0.5, 0.8, 0.3,
 0.7, 0.5, 0.6, 0.8, 0.3, 0.7, 0.6, 0.6, 0.8, 0.3, 0.5, 0.6, 0.7,
 0.9, 0.3, 0.8, 0.3, 0.6, 0.9, 0.3, 0.8, 0.3, 0.6, 0.9, 0.3, 0.8,
 0.3, 0.6, 0.9, 0.3, 0.8, 0.4, 0.5, 0.9, 0.3, 0.8, 0.4, 0.5, 0.9,
 0.3, 0.8, 0.5, 0.6, 0.9, 0.3, 0.7, 0.5, 0.6, 0.9, 0.3, 0.7, 0.5,
 0.6, 0.8, 0.3, 0.6, 0.5, 0.6, 0.8, 0.3, 0.6, 0.5, 0.7, 0.9, 0.3,
 0.8, 0.3, 0.6, 0.9, 0.3, 0.8, 0.3, 0.6, 0.9, 0.3, 0.8, 0.4, 0.6,
 0.9, 0.3, 0.8, 0.4, 0.6, 0.9, 0.3, 0.8, 0.5, 0.6, 0.9, 0.3, 0.7,
 0.5, 0.6, 0.9, 0.3, 0.7, 0.5, 0.6, 0.9, 0.3, 0.6, 0.5, 0.6, 0.8,
 0.2, 0.6, 0.5, 0.7, 0.9, 0.3, 0.8, 0.3, 0.6, 0.9, 0.3, 0.8, 0.4,
 0.6, 0.9, 0.3, 0.8, 0.4, 0.6, 0.9, 0.3, 0.8, 0.4, 0.6, 0.9, 0.3,
 0.8, 0.4, 0.6, 0.9, 0.3, 0.7, 0.5, 0.6, 0.8, 0.2, 0.6, 0.4, 0.7,
 0.9, 0.3, 0.8, 0.3, 0.7, 0.9, 0.3, 0.8, 0.4, 0.6, 0.9, 0.3, 0.8,
 0.4, 0.6, 0.9, 0.3, 0.8, 0.4, 0.6, 0.9, 0.3, 0.8, 0.4, 0.6, 0.9,
 0.3, 0.7, 0.4, 0.6, 0.9, 0.2, 0.7, 0.4, 0.6, 0.8, 0.2, 0.6, 0.4,
 0.7, 0.9, 0.3, 0.7, 0.4, 0.6, 0.9, 0.3, 0.8, 0.4, 0.6, 0.9, 0.3,
 0.8, 0.4, 0.6, 0.9, 0.3, 0.8, 0.4, 0.6, 0.9, 0.3, 0.8, 0.4, 0.6,
 0.9, 0.3, 0.7, 0.4, 0.6, 0.9, 0.3, 0.7, 0.4, 0.6, 0.9, 0.2, 0.7,
 0.4, 0.6, 0.8, 0.2, 0.6, 0.3, 0.7), factors = list()), lhs = c(8.31,
 3.11, 7.18, 4.27, 5.65), rhs = c(Inf, Inf, Inf, Inf, Inf), types = c("I",
 "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I",
 "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I",
 "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I",
 "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I",
 "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I",
 "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I",
 "I", "I", "I", "I", "I", "I", "I", "I", "I", "I", "I"), lower = c(0,
 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
 0, 0, 0, 0, 0), upper = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1))

print("starting first run")

highs:::reset_global_scheduler(TRUE)
s1 <- do.call(highs_solve, append(model, list(control = list(threads = 1, parallel = "on", log_to_console = TRUE))))

print("starting second run")
highs:::reset_global_scheduler(TRUE)
s2 <- do.call(highs_solve, append(model, list(control = list(threads = 2, parallel = "on", log_to_console = TRUE))))


highs_solve
reset_global_scheduler()

new_solver(model)

